// jQuery.editable.js v1.0.0
// http://shokai.github.com/jQuery.editable
// (c) 2012 Sho Hashimoto <hashimoto@shokai.org>
// The MIT License
(function(e){e.fn.editable=function(t,n){typeof n!="function"&&(n=function(e){});if(typeof t=="string")var r=this,i=t;else var r=t.trigger,i=t.action;var s=this,o={};return o.start=function(t){r.unbind(i=="clickhold"?"mousedown":i),r!=s&&r.hide();var u=s.text().replace(/^\s+/,"").replace(/\s+$/,""),a=e("<input>").val(u).width(s.width()+s.height()).css("font-size","100%").css("margin",0).attr("id","editable_"+new Date*1).addClass("editable"),f=function(){var e=a.val().replace(/^\s+/,"").replace(/\s+$/,"");s.text(e),n({value:e,target:s,old_value:u}),o.regist(),r!=s&&r.show()};a.blur(f),a.keydown(function(e){e.keyCode==13&&f()}),s.html(a),a.focus()},o.regist=function(){if(i=="clickhold"){var e=null;r.bind("mousedown",function(t){e=setTimeout(function(){o.start(t)},500)}),r.bind("mouseup mouseout",function(t){clearTimeout(e)})}else r.bind(i,o.start)},o.regist(),this}})(jQuery);
